@page "/"
@using CalculatorEngine
@using CalculatorWebServerApp.Components.Data
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<div>
    <div>
        <text>Calculator</text>
        <button>Clear</button>
        <p>@_calculatorData.Result</p>
    </div>
    
    <div>
        <text>Input A</text>
        <input placeholder="0" @bind-value="_calculatorData.InputA"/>
        <text>Input B</text>
        <input placeholder="0" @bind-value="_calculatorData.InputB"/>
    </div>
    <section>
        <div>
            <text>A and B</text>
            <button class="btn btn-primary" @onclick="Add">A + B</button>
            <button>A - B</button>
            <button>A * B</button>
            <button>A / B</button>
            <button>A == B</button>
            <button>A ^ B</button>
            <button>A log B</button>
            <button>A root B</button>
        </div>
        <div>
            <text>A only</text>
            <button>A!</button>
            <button>sinA</button>
            <button>cosA</button>
            <button>tanA</button>
            <button>1 / A</button>
        </div>
    </section>
</div>

@code {

    CalculatorData _calculatorData = new();
    
    private void Add()
    {
        CheckIfInteger(_calculatorData.InputA, _calculatorData.InputB);
        double result = CalculatorEngine.Add(int.Parse(_calculatorData.InputA), int.Parse(_calculatorData.InputB));
        _calculatorData.Result = Convert.ToDouble(result.ToString());
    }

    private void CheckIfInteger(string a, string b)
    {
        try
        {
           // int.Parse(a);
           // int.Parse(b);
        }
        catch (Exception e)
        {
            Console.WriteLine(e);
            throw;
        }
    }
}